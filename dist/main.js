!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";function r(t){const e=JSON.stringify(t);window.localStorage.setItem("project",e)}function o(t){const e=JSON.stringify(t);return window.localStorage.setItem("currentP",e),e}function i(){const t=localStorage.getItem("currentP");return JSON.parse(t)}function l(){const t=localStorage.getItem("project");return JSON.parse(t)}n.r(e);var a=function(){function t(t){return document.querySelector(t)}function e(){let e="";i().tasks.forEach(t=>{e+=`<div class="py-2 task-div ${t.status?"done":"not-yet"}">\n        <h5 class="text-center"> <span class="text-muted"> title:</span><br>${t.title}</h5>\n        <h5 class="text-center"> <span class="text-muted"> due date:</span><br>${t.date}</h5>\n        <h5 class="text-center"> <span class="text-muted"> priority:</span><br>${t.priority}</h5>\n        <h5 class="text-center text-break"> <span class="text-muted"> description:</span>${t.description}</h5>\n        <span class="col-10 m-auto d-flex justify-content-around"> <button class="btn btn-outline-primary" onclick="editTask(${t.id})">edit task</button> <button class="btn btn-outline-primary"  onclick="doneTask(${t.id})">done/undone</button> <button class="btn btn-outline-danger" onclick="deleteTask(${t.id})"> detete Task\n        </button></span>\n      </div>`}),t("#current-p").innerText=i().title,t("#current-p").classList="text-primary text-center",t("#current-tasks").innerHTML=e}function n(){document.querySelectorAll("#p-titles h3").forEach(n=>{const r=m(n.innerText);o(r),n.addEventListener("click",()=>{t("#current-p").innerText=`${n.innerText}`,o(r),e(),console.log(i())})})}function r(){t("#task-modal").style.display="none"}function l(){t("#task-modal").style.display="block"}return{getElement:t,getExt:function(){return t("#current-p").innerText},render:function(e,n){t(e).innerText=n},hide:r,show:l,setCurrent:n,renderProject:function(t,e){let r="";t.forEach(t=>{r+=`<h3 class="project ml-2 py-2 text-center ">${t.title}</h3>`}),document.getElementById(e).innerHTML=r,n()},renderTasks:e,renderModal:function(){return t("#new-t").addEventListener("click",l)},hideModal:function(){return t("#cancel").addEventListener("click",r)}}}();function s(t,e,n,r){return{title:t,id:0,description:e,priority:n,date:r,status:!1}}function c(t){let e;return m(a.getExt()).tasks.forEach(n=>{n.id===t&&(e=n)}),e}window.deleteTask=function(t){const e=c(t),n=m(a.getExt());n.tasks.splice(n.tasks.indexOf(e),1),r(d),o(n),a.renderTasks()},window.doneTask=function(t){const e=c(t),n=m(a.getExt());n.tasks.forEach(t=>{t===e&&(t.status=!t.status)}),r(d),o(n),a.renderTasks()},window.editTask=function(t){a.getElement("#task-modal").innerHTML=u(t),a.show()},window.update=function(t){const e=c(t),n=m(a.getExt()),i=s(a.getElement("#title").value,a.getElement("#description").value,a.getElement("#priority").value,a.getElement("#date").value);i.id=e.id,i.status=e.status,n.tasks.splice(n.tasks.indexOf(e),1,i),r(d),o(n),window.cancel(),a.renderTasks()},window.cancel=function(){location.reload(!0)};const u=t=>{const e=c(t);return`<form action="" class="col-3 m-auto p-3" id="form">\n        <div class="form-group">\n          <label for="title">title</label>\n          <input type="text" name="title" value=${e.title} id="title" class="form-control" placeholder="title" aria-describedby="helpId"\n            required>\n        </div>\n\n        <div class="form-group">\n          <label for="description">description</label>\n          <textarea class="form-control" name="description" id="description" placeholder=${e.description}\n            rows="3"></textarea>\n        </div>\n\n        <div class="form-group">\n          <label for="title">Due date</label>\n          <input type="date" name="date" id="date" value=${e.date} class="form-control" aria-describedby="helpId" required>\n        </div>\n\n        <div class="form-group">\n          <label for="">priority</label>\n          <select class="form-control" name="" value=${e.priority} id="priority">\n            <option value="Lowâšª">Lowâšª</option>\n            <option value="MediumðŸ”µ">MediumðŸ”µ</option>\n            <option value="HignðŸ”´">HignðŸ”´</option>\n          </select>\n        </div>\n        <div class="form-group d-flex justify-content-around">\n          <button type="button" class="btn btn-outline-danger" onclick="cancel()">cancel</button>\n          <button type="button" class="btn btn-outline-primary" onclick="update(${e.id})">Update task</button>\n        </div>\n      </form>`};let d=[];function p(t,e){return{title:t,id:e,tasks:[]}}!function(){if(l())d=l();else{const t=p("general",1);o(t),d.push(t)}}();const f=(t,e)=>{e.id=t.tasks.length,t.tasks.push(e)};const m=t=>{let e;return d.forEach(n=>{n.title===t&&(e=n)}),e};a.renderTasks(),a.renderProject(d,"p-titles");const g=a.getElement("#create-p"),b=a.getElement("#create-t"),y=a.getElement("#delete-p");g.addEventListener("click",(function(){const t=a.getElement("#project-title").value,e=p(t,d.length);return!(!d.every(t=>t.title!==e.title)||""===t)&&(d.push(e),r(d),a.renderProject(l(),"p-titles"),!0)})),b.addEventListener("click",(function(){const t=a.getElement("#title").value,e=a.getElement("#description").value,n=a.getElement("#priority").value,i=a.getElement("#date").value,l=m(a.getExt()),c=s(t,e,n,i);f(l,c),r(d),o(l),a.hide()})),y.addEventListener("click",()=>{const t=m(a.getExt());if("general"===t.title)return a.getElement("#current-p").classList="text-danger text-center",a.getElement("#current-p").innerText="Can't delete general project",!1;d.splice(d.indexOf(t),1),r(d),o(m("general")),location.reload(!0)}),a.renderModal(),a.hideModal()}]);